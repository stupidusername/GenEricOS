#:import ColoredButton uix.coloredbutton
#:import Core containers.core.Core
#:import dimens uix.dimens.dimens
#:import Window kivy.core.window.Window

<ClosablePopup>:
        main_layout: main_layout
        content_layout: content_layout
        size_hint: .75, .75
        background: 'images/transparent_background.png'
        background_color: Core.theme().get_transparent_color()
        canvas.before:
                Color:
                        rgba: Core.theme().get_dark_gray()
                Rectangle:
                        pos: self.pos
                        size: self.size
        BoxLayout:
                id: main_layout
                orientation: 'vertical'
                BoxLayout:
                        size_hint_y: None
                        height: Window.height * .075
                        padding: self.width * .01, self.height * .25
                        canvas.before:
                                Color:
                                        rgb: (1, 1, 1)
                                Line:
                                        points: (self.x, self.y + root.line_width, self.x + self.width, self.y + root.line_width)
                                        cap: 'none'
                                        width: root.line_width
                        ShortenedLabel:
                                text: root.title
                                halign: 'left'
                                font_size: dimens.font_size_l
                        ColoredButton:
                                size_hint_x: None
                                width: self.height
                                background: 'images/close.png'
                                on_release: root.dismiss()
                BoxLayout:
                        id: content_layout
